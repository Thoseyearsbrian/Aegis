# > é¡¹ç›®åç§°ï¼šAegis - Surgeä¸ªäººæ•°å­—é˜²ç«å¢™è§„åˆ™é›†

# > å½“å‰ç‰ˆæœ¬ï¼š1.1.6

# > ç»´æŠ¤æ—¥æœŸï¼š2025-10-26

# > é€‚é…ç¯å¢ƒï¼šSurge 5ï¼ˆiOS / macOSï¼‰

# > é…ç½®ä½œè€…ï¼šThoseYearsBrian

# > é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/Thoseyearsbrian/Aegis

[General]

# > æ—¥å¿—çº§åˆ«

loglevel = notify
show-error-page-for-reject = true

# > å…è®¸ Wi-Fi è®¿é—®ï¼ˆå±€åŸŸç½‘ä»£ç†å…±äº«ï¼Œå»ºè®®å…³é—­ï¼‰

allow-wifi-access = false

# > å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®ï¼ˆçƒ­ç‚¹ä»£ç†å…±äº«ï¼Œå»ºè®®å…³é—­ï¼‰

allow-hotspot-access = false

# > All Hybrid ç½‘ç»œå¹¶å‘

all-hybrid = false

# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰

test-timeout = 3

# > Internet æµ‹è¯• URL

internet-test-url = http://www.aliyun.com

# > ä»£ç†æµ‹é€Ÿ URL

proxy-test-url = http://cp.cloudflare.com/generate_204

# > GeoIPæ•°æ®åº“

geoip-maxmind-url = https://raw.githubusercontent.com/Thoseyearsbrian/GeoIP2-CN/main/data/GeoLite2-Country.mmdb

# > æ’é™¤ç®€å•ä¸»æœºå ï¼ˆé˜²æ­¢å†…ç½‘ä¸»æœºåæ³„éœ²ï¼‰

exclude-simple-hostnames = true

# > è¿œç¨‹æ§åˆ¶å™¨(å»ºè®®å…³é—­)

http-api-web-dashboard = false

# > IPv6 æ”¯æŒï¼ˆå»ºè®®å…³é—­ï¼‰

ipv6 = false

# > IPv6 VIFï¼ˆå»ºè®®ç¦ç”¨ï¼‰

ipv6-vif = disabled

# > DNS çš„ SVCB/HTTPS æŸ¥è¯¢ï¼ˆå»ºè®®å…³é—­ï¼‰

allow-dns-svcb = false

# > æ˜¯å¦æ¥ç®¡æœ¬åœ°ç½‘ç»œæµé‡ï¼ˆå»ºè®®å¼€å¯ï¼Œè‹¥ AirDropã€Bonjourã€Handoff ç­‰åŠŸèƒ½å¼‚å¸¸å¯è®¾ä¸º falseï¼‰

include-local-networks = true

# > Apple æ¨é€æœåŠ¡ä¸èµ°ä»£ç†ï¼ˆå¦‚éœ€æ¥ç®¡ iCloud / é€šçŸ¥ç›¸å…³è¡Œä¸ºï¼Œå¯è®¾ä¸º trueï¼‰

include-apns = true

# > æ˜¯å¦å°†èœ‚çªè¿è¥å•†æœåŠ¡æµé‡çº³å…¥ä»£ç†ï¼ˆå¦‚éœ€è§„é¿è¿è¥å•† DNS åŠ«æŒï¼Œå¯è®¾ä¸º trueï¼‰

include-cellular-services = true

# > ä» /etc/hosts è¯»å– DNS è®°å½•ä¼˜ï¼ˆå…ˆé™æ€è§£æï¼Œé˜²æ­¢ DNS è¯·æ±‚æ³„éœ²ï¼‰

read-etc-hosts = true

# > åŠ å¯† DNS è¯·æ±‚æ˜¯å¦è·Ÿéšå‡ºç«™ä»£ç†ï¼ˆå»ºè®®å…³é—­ï¼‰

encrypted-dns-follow-outbound-mode = false

# > DNS æœåŠ¡å™¨

encrypted-dns-server = https://dns.alidns.com/dns-query, tls://dns.alidns.com, tls://1.1.1.1
hijack-dns = *:53

# > UDP ä¼˜å…ˆå‘é€ï¼ˆå»ºè®®å¼€å¯ï¼‰

udp-priority = true

# > UDP ä¼˜å…ˆæ¨¡å¼ï¼ˆæ¸¸æˆæ¨¡å¼ï¼Œå»ºè®®å¼€å¯ï¼‰

include-all-networks = true

# > æ¥ç®¡æ‰€æœ‰ç½‘ç»œæ¥å£ï¼ˆå¦‚è™šæ‹Ÿç½‘å¡ã€å…±äº«ç½‘ç»œç­‰ï¼‰

udp-policy-not-supported-behaviour = DIRECT

# > UDPé€€å›è¡Œä¸º

skip-proxy = 127.0.0.1, localhost, *.local, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, 192.168.50.0/24, 100.64.0.0/10, 224.0.0.0/4, 239.0.0.0/8, 17.0.0.0/8, 198.18.0.0/15, 169.254.0.0/16, fe80::/10

# > å½“å‰è¿æ¥çš„ Wi-Fi ä¸æ˜¯ Surge é…ç½®ä¸­æŒ‡å®šçš„ã€Œä¸» Wi-Fiã€ï¼Œåˆ™ä½¿ç”¨é»˜è®¤ç­–ç•¥

always-real-ip = *.local, *.lan, *.home, msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > è·³è¿‡ä»£ç†çš„æœ¬åœ°åœ°å€å’Œå…³é”®æœåŠ¡

compatibility-mode = false

# > å…è®¸GEOIP è‡ªåŠ¨æ›´æ–°

disable-geoip-db-auto-update = false

# > å±€åŸŸç½‘ç›´è¿è·¯ç”±ï¼ˆç”¨äºæ”¾è¡Œå±€åŸŸç½‘ã€é“¾è·¯æœ¬åœ°ä¸ç»„æ’­é€šä¿¡ï¼Œç¡®ä¿ AirDropã€Bonjourã€NAS ç­‰åŠŸèƒ½æ­£å¸¸ã€‚ï¼‰

tun-excluded-routes = 192.168.0.0/16, 169.254.0.0/16, 224.0.0.0/4, 239.0.0.0/8, fe80::/10

[Proxy Group]

# > ç­–ç•¥ç»„ï¼ˆä¸‹é¢çš„èŠ‚ç‚¹ä¿¡æ¯éœ€ä¸å¤–éƒ¨èŠ‚ç‚¹å¯¹åº”ï¼Œè‹¥åˆ é™¤äº†å¤–éƒ¨èŠ‚ç‚¹é‡Œçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨ç­–ç•¥ç»„é‡Œä¹Ÿè¦åˆ é™¤ã€‚ï¼‰

èŠ‚ç‚¹é€‰æ‹© = select, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", "âœˆï¸ æˆ‘çš„èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Surge.png
è°·æ­ŒæœåŠ¡ = select, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Google.png
æ™ºèƒ½åŠ©ç† = select, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/ChatGPT.png
GitHub = select, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/GitHub.png
ç”µæŠ¥ä¿¡æ¯ = select, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Telegram.png
Crypto = select, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Crypto.png
å›½å¤–åª’ä½“ = select, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹",icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/ForeignMedia.png
å›½å†…åª’ä½“ = select, DIRECT, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/iQIYI.png
å¾®è½¯æœåŠ¡ = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Microsoft.png
è‹¹æœæœåŠ¡ = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Apple.png
æ¸¸æˆå¹³å° = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©, "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹", icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Game.png

ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = smart, include-other-group=âœˆï¸ æˆ‘çš„èŠ‚ç‚¹, update-interval=0, no-alert=true, hidden=1, include-all-proxies=true, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(é¦™æ¸¯)|(Hong)|(HK), icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Flags/hk.png
ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹ = smart, include-other-group=âœˆï¸ æˆ‘çš„èŠ‚ç‚¹, update-interval=0, no-alert=true, hidden=1, include-all-proxies=true, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾å›½)|(States)|(US), icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Flags/us.png
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = smart, include-other-group=âœˆï¸ æˆ‘çš„èŠ‚ç‚¹, update-interval=0, no-alert=true, hidden=1, include-all-proxies=true, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥æœ¬)|(Japan)|(JP), icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Flags/jp.png
ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹ = smart, include-other-group=âœˆï¸ æˆ‘çš„èŠ‚ç‚¹, update-interval=0, no-alert=true, hidden=1, include-all-proxies=true, policy-regex-filter=(ğŸ‡¨ğŸ‡³)|(å°æ¹¾)|(Tai)|(TW), icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Flags/cn.png
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = smart, include-other-group=âœˆï¸ æˆ‘çš„èŠ‚ç‚¹, update-interval=0, no-alert=true, hidden=1, include-all-proxies=true, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(æ–°åŠ å¡)|(Singapore)|(SG), icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Flags/sg.png
âœˆï¸ æˆ‘çš„èŠ‚ç‚¹ = select, policy-path=ä½ çš„èŠ‚ç‚¹, update-interval=86400, no-alert=true, hidden=false, include-all-proxies=true, icon-url=https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/Icons/Services/Final.png

[Rule]

# > â‘  ä¸å—ä¿¡ä»»çš„è¯ä¹¦æœºæ„ CA_Block.list - é«˜çº§æ¨¡å— ï¼ˆé»˜è®¤æ³¨é‡Šï¼Œç”¨æˆ·æ‰‹åŠ¨å¯ç”¨ï¼‰

# RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/CA_Block.list,REJECT,no-resolve

# > â‘¡ å¹¿å‘Šæ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/AdTracking_Block.list,REJECT,no-resolve

# > â‘¢ æˆäººæ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Adult_Block.list,REJECT,no-resolve

# > â‘£ ç›‘å¬èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Inspection_Block.list,REJECT,no-resolve

# â‘¤ è¡Œä¸ºåˆ†æä¸é¥æµ‹èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Behavior_Block.list,REJECT,no-resolve

# > â‘¥ åå°å›è¿ä¸é™é»˜é€šä¿¡èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Background_Block.list,REJECT,no-resolve

# > â‘¦ åé—¨æ§åˆ¶ä¸æ¤å…¥é€šä¿¡èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Backdoor_Block.list,REJECT,no-resolve

# > â‘§ åƒµå°¸ç½‘ç»œä¸æ§åˆ¶èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Botnet_Block.list,REJECT,no-resolve

# > â‘¨ APT æ”»å‡»æºæ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/APT_Block.list,REJECT,no-resolve

# > â‘© Pegasus é—´è°è½¯ä»¶é€šä¿¡èŠ‚ç‚¹æ‹¦æˆª

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Pegasus_Block.list,REJECT,no-resolve

# > æ™ºèƒ½åŠ©ç†

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/OpenAI.list,æ™ºèƒ½åŠ©ç†

# > è‹¹æœæœåŠ¡

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Apple.list,è‹¹æœæœåŠ¡

# > Github

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/GitHub.list,GitHub

# > Crypto

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Crypto.list,Crypto

# > å¾®è½¯æœåŠ¡

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Microsoft.list,å¾®è½¯æœåŠ¡

# > è°·æ­ŒæœåŠ¡

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Google.list,è°·æ­ŒæœåŠ¡

# > ç¤¾äº¤å¹³å°

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Telegram.list,ç”µæŠ¥ä¿¡æ¯

# > æ¸¸æˆå¹³å°

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/GamePlatforms.list,æ¸¸æˆå¹³å°

# > æµåª’ä½“

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/ChinaMedia.list,å›½å†…åª’ä½“

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/GlobalMedia.list,å›½å¤–åª’ä½“

# > Proxy

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/Proxy.list,èŠ‚ç‚¹é€‰æ‹©

# > China

RULE-SET,https://raw.githubusercontent.com/Thoseyearsbrian/Aegis/main/rules/China.list,DIRECT

# > å±€åŸŸç½‘åœ°å€

RULE-SET,LAN,DIRECT

# > GEOIP åŒ¹é…ä¸­å›½å¤§é™†

GEOIP,CN,DIRECT

# > Final è§„åˆ™

FINAL,REJECT

[Host]

# > æœ¬åœ°å›ç¯ IPv6 æ˜ å°„

ip6-localhost = ::1

# > æœ¬åœ°è·¯ç”±å™¨ç™»å½•ä¸çƒ­ç‚¹è¯†åˆ«ï¼ˆæ— é¡»æŒ‡å®š DNSï¼Œä¿ç•™äº¤ç”±ç³»ç»Ÿè§£æï¼‰

routerlogin.net = system
router.asus.com = system
amplifi.lan = system
*.lan = system
_hotspot_.m2m = system
hotspot.cslwifi.com = system
